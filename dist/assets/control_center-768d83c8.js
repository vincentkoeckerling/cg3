let s=null;const i=100;class n{constructor(){if(s!==null)return s;this.t=.5,this.tMax=1,this.tRate=.002,this.tValueInputs=Array.from(document.querySelectorAll(".t-value")),this.lastUpdate=Date.now(),this.tValueInputs.forEach(t=>t.addEventListener("input",e=>this.setT(parseFloat(e.currentTarget.value)))),this.playButton=document.getElementById("play-button"),this.playButton.addEventListener("click",this.onPlayButtonClicked.bind(this)),this.isAnimating=!1,s=this}setT(t){this.t=t,this.tValueInputs.forEach(e=>e.value=this.t),this.requestUpdate()}onPlayButtonClicked(){this.isAnimating?(this.isAnimating=!1,this.playButton.textContent="Play",this.tValueInputs.forEach(t=>t.disabled=!1)):(this.isAnimating=!0,requestAnimationFrame(this.animate.bind(this)),this.playButton.textContent="Pause",this.tValueInputs.forEach(t=>t.disabled=!0))}animate(){this.setT((this.t+this.tRate)%this.tMax),this.isAnimating&&requestAnimationFrame(this.animate.bind(this))}requestUpdate(){this.lastUpdate=Date.now()}shouldUpdate(){return Date.now()-this.lastUpdate<i}}export{n as C};
