import"./main-66c2d315.js";import{T as E}from"./two.module-cd4d32c0.js";import{C as J}from"./control_center-152a0153.js";function M(t){return Math.pow(1-t,3)}function z(t){return 3*t*Math.pow(1-t,2)}function $(t){return 3*Math.pow(t,2)*(1-t)}function G(t){return Math.pow(t,3)}const d=new J;let K=!0;document.getElementById("draw-full-curve").addEventListener("change",t=>{K=t.currentTarget.checked,d.requestUpdate()});let Q;document.getElementById("show-points").addEventListener("change",t=>{Q=t.currentTarget.checked,d.requestUpdate()});let S;document.getElementById("show-lines").addEventListener("change",t=>{S=t.currentTarget.checked,d.requestUpdate()});let W;document.getElementById("show-vectors").addEventListener("change",t=>{W=t.currentTarget.checked,d.requestUpdate()});const v=document.getElementById("bezier_canvas"),i=new E({fitted:!0}).appendTo(v),f=i.makePath();f.noFill();f.closed=!1;f.linewidth=5;f.stroke="#408ed0";const x=m("#408ed0"),C=m("#408ed0"),T=m("#408ed0"),L=m("#8ED040"),B=m("#8ED040"),V=m("#D0408E"),Y=[x,C,T,L,B,V],U=_(i.width/8*1,i.height/8*5),q=_(i.width/8*2,i.height/4),F=_(i.width/8*6,i.height/4),I=_(i.width/8*7,i.height/8*5),Z=w("#8ED040","#a2ef4a"),tt=w("#8ED040","#a2ef4a"),et=w("#8ED040","#a2ef4a"),ot=w("#D0408E","#f04aa2"),nt=w("#D0408E","#f04aa2"),j=[Z,tt,et,ot,nt],it=i.makeCircle(0,0,12);it.stroke="#b5b5b5";const st=i.makeGroup();function pt(){if(!d.shouldUpdate())return;const t=d.t,o=U.position,e=q.position,n=F.position,r=I.position;Z.position=l(o,e,t),tt.position=l(e,n,t),et.position=l(n,r,t),ot.position=u(o,e,n,t),nt.position=u(e,n,r,t),it.position=H(o,e,n,r,t),x.position1=o,x.position2=e,C.position1=e,C.position2=n,T.position1=n,T.position2=r,L.position1=l(o,e,t),L.position2=l(e,n,t),B.position1=l(e,n,t),B.position2=l(n,r,t),V.position1=u(o,e,n,t),V.position2=u(e,n,r,t),f.vertices.length=0;let p=d.t;K&&(p=1);for(let c=0;c<=p+.001;c+=.02){const k=H(o,e,n,r,c);f.vertices.push(k)}st.children.forEach(c=>c.remove()),W&&dt(t),Q?j.forEach(c=>c.opacity=1):j.forEach(c=>c.opacity=0),S?Y.forEach(c=>c.line.opacity=1):Y.forEach(c=>c.line.opacity=0)}i.bind("update",pt);i.play();d.requestUpdate();let h=null;v.addEventListener("mouseup",()=>h=null);v.addEventListener("mouseleave",()=>h=null);v.addEventListener("mousemove",t=>{h!==null&&(h.position.x+=t.movementX,h.position.y+=t.movementY,d.requestUpdate())});function _(t,o){const e=i.makeCircle(t,o,10);return e.fill="#408ed0",e.stroke="#50b2ff",e.linewidth=10,i.update(),e.renderer.elem.addEventListener("mousedown",()=>h=e),e}function dt(t){const o=g(i.width/2,i.height/2,U.position.x-i.width/2,U.position.y-i.height/2,M(t),"#408ED0"),e=g(o.x2,o.y2,q.position.x-i.width/2,q.position.y-i.height/2,z(t),"#CA40D0"),n=g(e.x2,e.y2,F.position.x-i.width/2,F.position.y-i.height/2,$(t),"#D08240"),r=g(n.x2,n.y2,I.position.x-i.width/2,I.position.y-i.height/2,G(t),"#46D040");st.add(r.arrow,n.arrow,e.arrow,o.arrow)}function g(t,o,e,n,r,p){const c=t+e*r,k=o+n*r,P=i.makeArrow(t,o,c,k);P.stroke=p,P.linewidth=3;const b=i.makeCircle(t,o,4);return b.noFill(),b.stroke=p,b.linewidth=3,{arrow:i.makeGroup([P,b]),x2:c,y2:k}}function w(t,o){const e=i.makeCircle(0,0,5);return e.fill=t,e.stroke=o,e.linewidth=5,e}function m(t){const o=i.makeLine(0,0,0,0);o.stroke=t,o.linewidth=2;function e(n,r){o.vertices[n].x=r.x,o.vertices[n].y=r.y}return{line:o,set position1(n){e(0,n)},set position2(n){e(1,n)}}}function H(t,o,e,n,r){const p=u(t,o,e,r),c=u(o,e,n,r);return l(p,c,r)}function u(t,o,e,n){const r=l(t,o,n),p=l(o,e,n);return l(r,p,n)}function l(t,o,e){return new E.Vector((1-e)*t.x+e*o.x,(1-e)*t.y+e*o.y)}const A=new J,ut=document.getElementById("bernstein_canvas"),s=new E({fitted:!0}).appendTo(ut),N=s.makePath();N.noFill().closed=!1;N.stroke="#408ED0";const O=s.makePath();O.noFill().closed=!1;O.stroke="#CA40D0";const R=s.makePath();R.noFill().closed=!1;R.stroke="#D08240";const X=s.makePath();X.noFill().closed=!1;X.stroke="#46D040";const ht=D("#408ed0","#50b2ff"),ft=D("#D0408E","#f04aa2"),mt=D("#D08240","#f2974a"),wt=D("#8ED040","#a2ef4a"),y={size:"20px",family:"'Times New Roman', Times, serif"},rt=s.makeText("B₀",0,0,y);rt.position=a(.125,.8);rt.fill="#408ED0";const ct=s.makeText("B₁",0,0,y);ct.position=a(.35,.475);ct.fill="#CA40D0";const at=s.makeText("B₂",0,0,y);at.position=a(.65,.475);at.fill="#D08240";const lt=s.makeText("B₃",0,0,y);lt.position=a(.875,.8);lt.fill="#46D040";s.makeArrow(0,s.height,0,0);s.makeArrow(0,s.height,s.width,s.height);s.makeText("1.0",s.width-8,s.height+16);s.makeText("1.0",0,-8);s.makeText("0",-6,s.height+6);for(let t=0;t<1.001;t+=.01){const o=M(t);N.vertices.push(a(t,o));const e=z(t);O.vertices.push(a(t,e));const n=$(t);R.vertices.push(a(t,n));const r=G(t);X.vertices.push(a(t,r))}function kt(){if(!A.shouldUpdate())return;const t=A.t;ht.position=a(t,M(t)),ft.position=a(t,z(t)),mt.position=a(t,$(t)),wt.position=a(t,G(t))}s.bind("update",kt);s.play();A.requestUpdate();function D(t,o){const e=s.makeCircle(0,0,4);return e.fill=t,e.stroke=o,e.linewidth=4,e}function a(t,o){return new E.Vector(t*s.width,s.height-o*s.height)}
